# 架构
## 水平分层架构
    UI-->网关层-->业务逻辑层-->数据访问层-->数据存储层
    
    网关层功能
        请求鉴权--发布商品、登录鉴权
        数据完整性检查--数据包定长header+变长body
        协议转换--JSON->Map<String, Object>
        路由转发--根据cmd转发到不同逻辑层
        服务治理--限流、降级、熔断
     
        设计实践
            zuul -- java bio
            springCloud gateway -- netty 
            Nginx -- C epoll
            Kong -- C + Lua epoll
            Tyk -- Go AIO
            nodeJs -- JS AIO
            自研 -- Java netty      
    
    业务逻辑层
        业务逻辑判断
    
    数据访问层
        CRUD
        ORM
        分库分表
        屏蔽底层存储差异性
            mysql redis mangoDB        
        
    同步架构 OR 异步架构  -- MQ解耦
    
    业务逻辑层不相互调用--只调用相应的dao层
## 高可用设计手段
## 高并发设计手段
    吞吐量
    响应延迟
## 服务无状态化设计
    session redis 
## 服务负载均衡设计
    广义负载均衡
        完整的故障处理恢复机制
            故障自动发现
            故障服务自动摘除（服务熔断）
            请求自动重试
            服务恢复自动发现
## 服务幂等设计
    数学 幂 
## 分布式锁设计
    强一致性
    锁自动续约与自动释放
    可视化管理与监控
## 分布式事务设计
## 服务降级/限流/熔断设计
## 服务灰度发布
## 服务全链路压测设计